#pragma once


#include "BoundingVolumeComponent.hpp"

#include <glm/glm.hpp>

namespace MFA
{

    class DrawableEssence;
    class TransformComponent;

    class AxisAlignedBoundingBoxComponent final : public BoundingVolumeComponent
    {
    public:

        static uint8_t GetClassType(ClassType outComponentTypes[3])
        {
            outComponentTypes[0] = ClassType::AxisAlignedBoundingBoxes;
            return 1;
        }
        
        explicit AxisAlignedBoundingBoxComponent(
            glm::vec3 const & center,
            glm::vec3 const & extend
        );
        
        explicit AxisAlignedBoundingBoxComponent();
        
        void Init() override;

        [[nodiscard]]
        DEBUG_CenterAndRadius DEBUG_GetCenterAndRadius() override;

    protected:

        bool IsInsideCameraFrustum(CameraComponent const * camera) override;

    private:

        bool mIsAutoGenerated;

        glm::vec3 mCenter {};
        glm::vec3 mExtend {};

        TransformComponent * mTransformComponent = nullptr;

    
    };

}
